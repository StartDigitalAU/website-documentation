"use strict";(self.webpackChunkwebsite_documentation=self.webpackChunkwebsite_documentation||[]).push([[976],{3748:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"introduction/introduction","title":"How We Create Websites","description":"This task will help you get up to speed on our wordpress theme boilerplate","source":"@site/docs/introduction/introduction.md","sourceDirName":"introduction","slug":"/introduction/","permalink":"/website-documentation/docs/introduction/","draft":false,"unlisted":false,"editUrl":"https://github.com/StartDigitalAU/website-documentation/tree/main/docs/introduction/introduction.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Introduction Task","permalink":"/website-documentation/docs/category/introduction-task"},"next":{"title":"Development Standards","permalink":"/website-documentation/docs/category/development-standards"}}');var s=t(4848),r=t(8453);const o={},l="How We Create Websites",a={},d=[{value:"Setting up your environment",id:"setting-up-your-environment",level:2},{value:"Pulling down the theme &amp; installing wordpress",id:"pulling-down-the-theme--installing-wordpress",level:2},{value:"Understanding Timber",id:"understanding-timber",level:2},{value:"Task 1: Create a template to protect pages from non-admin users",id:"task-1-create-a-template-to-protect-pages-from-non-admin-users",level:3},{value:"Task 2: Understanding the page builder blocks",id:"task-2-understanding-the-page-builder-blocks",level:3},{value:"Pushing to a development server",id:"pushing-to-a-development-server",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"how-we-create-websites",children:"How We Create Websites"})}),"\n",(0,s.jsx)(n.p,{children:"This task will help you get up to speed on our wordpress theme boilerplate"}),"\n",(0,s.jsx)(n.h2,{id:"setting-up-your-environment",children:"Setting up your environment"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Create a developer folder under user"}),"\n",(0,s.jsxs)(n.li,{children:["Download, install & configure ",(0,s.jsx)(n.a,{href:"https://www.trae.ai/home",children:"Trae"}),", ",(0,s.jsx)(n.a,{href:"https://herd.laravel.com/",children:"Laravel Herd"})," & ",(0,s.jsx)(n.a,{href:"https://tableplus.com/",children:"TablePlus"})]}),"\n",(0,s.jsx)(n.li,{children:"Install the following extensions for Trae/VSCode: Tailwind CSS IntelliSense, Twig Language 2, PHP Intelephense, Auto Close Tag & Auto Rename Tag"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"pulling-down-the-theme--installing-wordpress",children:"Pulling down the theme & installing wordpress"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Clone this theme into your project folder and rename it ",(0,s.jsx)(n.code,{children:"git clone https://github.com/StartDigitalAU/boilerroom introductorytask"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Run ",(0,s.jsx)(n.code,{children:"composer install"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Create a new database and name it the same as your project"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Copy the ENV hashes from the ",(0,s.jsx)(n.a,{href:"https://roots.io/salts.html",children:"Roots website"})," and paste is into your ",(0,s.jsx)(n.code,{children:".env"})," file"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Visit your site in the browser and complete the installation steps"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Start the development server by navigating to the wp-content/themes/startdigital theme and running ",(0,s.jsx)(n.code,{children:"npm run dev"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Create a new github repository & set the set the remote URL to it ",(0,s.jsx)(n.code,{children:"git remote set-url origin https://github.com/StartDigitalAU/introductory-task"})," & verify the new remote URL with ",(0,s.jsx)(n.code,{children:"git remote -v"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Push to the new origin"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"understanding-timber",children:"Understanding Timber"}),"\n",(0,s.jsxs)(n.p,{children:["Timber is essentially a templating engine that splits the HTML and display away from the PHP logic & data. Thus, allowing our PHP files to prepare the data to be added to the timber context to be retrieved & outputted in our TWIG files eg. ",(0,s.jsx)(n.code,{children:"<h1>{{ post.title }}</h1>"})]}),"\n",(0,s.jsx)(n.h3,{id:"task-1-create-a-template-to-protect-pages-from-non-admin-users",children:"Task 1: Create a template to protect pages from non-admin users"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Create the files ",(0,s.jsx)(n.code,{children:"template-admin-only.php"})," in the theme root, and ",(0,s.jsx)(n.code,{children:"template-admin-only.twig"})," in ",(0,s.jsx)(n.code,{children:"/templates"})]}),"\n",(0,s.jsxs)(n.li,{children:["In the ",(0,s.jsx)(n.code,{children:"template-admin-only.php"})," ensure you have the following to render out the template:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"use Timber\\Timber;\n\nglobal $post;\n\n$context = Timber::context();\n$timberPost = Timber::get_post($post->ID);\n$context['post'] = $timberPost;\n\n// Check if admin & redirect if not logic\n\n$templates = array(\"template-admin-only.twig\");\nTimber::render($templates, $context);\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsxs)(n.li,{children:["In the ",(0,s.jsx)(n.code,{children:"template-admin-only.twig"})," ensure you have the following to be able to build out the pages using the page builder:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-twig",children:"{% extends 'base.twig' %}\n\n{% block content %}\n\t{% for block in post.meta('page_builder') %}\n\t\t<div data-block=\"{{ block.acf_fc_layout }}\">\n\t\t\t{{ include('blocks/' ~ block.acf_fc_layout ~ '.twig', ignore_missing = true) }}\n\t\t</div>\n\t{% endfor %}\n{% endblock %}\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:"Test & ensure it works when logged in & not logged in"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"task-2-understanding-the-page-builder-blocks",children:"Task 2: Understanding the page builder blocks"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Install ACF Pro & sync the page builder fields JSON"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Create a layout within the page builder field group & name it ",(0,s.jsx)(n.code,{children:"Image text"}),", be sure to add a ",(0,s.jsx)(n.code,{children:"WYSIWYG field"})," & ",(0,s.jsx)(n.code,{children:"image field"})," to that layout block"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In ",(0,s.jsx)(n.code,{children:"/templates/blocks"})," create a file called ",(0,s.jsx)(n.code,{children:"image_text.twig"}),", ensuring it matches the name of the layout within the page builder ACF field group"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Within ",(0,s.jsx)(n.code,{children:"image_text.twig"})," create a simple text image 2-column layout & demonstrate retrieving the text & image within twig by using:"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-twig",children:'<>\n    <div>{{ block.name_of_wysiwyg_field }}</div>\n    <img src="{{ get_image(block.name_of_image_field).src }}" alt="{{ block.name_of_image_field.alt }}" />\n</>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"pushing-to-a-development-server",children:"Pushing to a development server"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Login to ",(0,s.jsx)(n.a,{href:"https://ventraip.com.au/",children:"ventraip"})," & navigate to the cpanel for ",(0,s.jsx)(n.code,{children:"perth.agency"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Create a new domain eg. ",(0,s.jsx)(n.code,{children:"intro.startdigital.com.au"}),", untick ",(0,s.jsx)(n.code,{children:"Share document root"})," and change the document root to something simple like ",(0,s.jsx)(n.code,{children:"intro"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Login to cloudflare, navigate to the DNS for startdigital.com.au & create an A record that points to the servers IP address, ensure the name is the same as the domain created within cpanel"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Go in to ",(0,s.jsx)(n.code,{children:"MySQL\xae Databases"})," within cpanel and create a new database, database user & add that user to the database"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Go in to the ",(0,s.jsx)(n.code,{children:"File Manager"})," within cpanel and find the ",(0,s.jsx)(n.code,{children:"intro"})," folder and extract the ",(0,s.jsx)(n.a,{href:"https://wordpress.org/download/",children:"wordpress core"})," within the folder"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Navigate to the domain eg. ",(0,s.jsx)(n.code,{children:"intro.startdigital.com.au"})," and set up wordpress as per normal"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Install the plugin WP Migrate on both the local site and development site"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Click Migrate, Find & Replace 'http://' with 'https://'"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Select all besides themes and migrate across"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Edit the ",(0,s.jsx)(n.code,{children:"deploy.yaml"})," Within your ",(0,s.jsx)(n.code,{children:".github/workflows"}),", by changing the server-dir to the domain document root we created before eg ",(0,s.jsx)(n.code,{children:"intro/"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Within ventraip click manage on the ",(0,s.jsx)(n.code,{children:"perth.agency"})," and find the username and password, enter the username in to the ",(0,s.jsx)(n.code,{children:"deploy.yaml"})," and then in the girhub repo, go to settings > Secrets & Variables > Repository Secret & create a ",(0,s.jsx)(n.code,{children:"DEV_FTP_PASS"})," secret containing the ftps password"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Push the changes to github and monitor the action to see if it built on the server"}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var i=t(6540);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);