"use strict";(self.webpackChunkwebsite_documentation=self.webpackChunkwebsite_documentation||[]).push([[204],{652:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"theme/cicd","title":"CI/CD Pipeline","description":"Our WordPress theme development uses GitHub Actions to automate the deployment process. This ensures consistent, reliable deployments and reduces manual intervention.","source":"@site/docs/theme/cicd.md","sourceDirName":"theme","slug":"/theme/cicd","permalink":"/website-documentation/docs/theme/cicd","draft":false,"unlisted":false,"editUrl":"https://github.com/StartDigitalAU/website-documentation/tree/main/docs/theme/cicd.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Packages & Dependencies","permalink":"/website-documentation/docs/theme/packages-dependencies"},"next":{"title":"WordPress Plugins","permalink":"/website-documentation/docs/theme/plugins"}}');var s=i(4848),r=i(8453);const o={sidebar_position:5},l="CI/CD Pipeline",c={},d=[{value:"Overview of Our GitHub Actions Workflow",id:"overview-of-our-github-actions-workflow",level:2},{value:"Trigger Events",id:"trigger-events",level:3},{value:"Build Process",id:"build-process",level:3},{value:"Deployment",id:"deployment",level:3},{value:"Benefits of Our CI/CD Pipeline",id:"benefits-of-our-cicd-pipeline",level:2},{value:"Setting Up for New Projects",id:"setting-up-for-new-projects",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"cicd-pipeline",children:"CI/CD Pipeline"})}),"\n",(0,s.jsx)(n.p,{children:"Our WordPress theme development uses GitHub Actions to automate the deployment process. This ensures consistent, reliable deployments and reduces manual intervention."}),"\n",(0,s.jsx)(n.h2,{id:"overview-of-our-github-actions-workflow",children:"Overview of Our GitHub Actions Workflow"}),"\n",(0,s.jsx)(n.p,{children:"Our CI/CD pipeline is configured in a GitHub Actions workflow file that handles building and deploying our WordPress themes. Here's a detailed breakdown of how it works:"}),"\n",(0,s.jsx)(n.h3,{id:"trigger-events",children:"Trigger Events"}),"\n",(0,s.jsx)(n.p,{children:"The pipeline is triggered by:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Pushes to the main branch"}),"\n",(0,s.jsx)(n.li,{children:"Manual triggers via GitHub's workflow dispatch feature"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"on:\n  push:\n    branches: [main]\n  workflow_dispatch:\n"})}),"\n",(0,s.jsx)(n.h3,{id:"build-process",children:"Build Process"}),"\n",(0,s.jsx)(n.p,{children:"The workflow runs on an Ubuntu environment and performs the following steps:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Code Checkout : Retrieves the latest code from the repository"}),"\n",(0,s.jsxs)(n.li,{children:["Build Project : Executes a series of commands to prepare the project for deployment:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Installs PHP dependencies via Composer"}),"\n",(0,s.jsx)(n.li,{children:"Navigates to the theme directory"}),"\n",(0,s.jsx)(n.li,{children:"Installs Node.js dependencies"}),"\n",(0,s.jsx)(n.li,{children:"Builds production-ready assets (CSS, JavaScript)"}),"\n",(0,s.jsx)(n.li,{children:"Finalizes PHP dependencies"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"jobs:\n  build:\n    runs-on: ubuntu-latest\n    steps:\n      - name: \ud83d\ude9a Get latest code\n        uses: actions/checkout@v2\n\n      - name: \ud83d\udd28 Build Project\n        run: |\n          composer install --no-scripts\n          cd wp-content/themes/startdigital\n          npm install\n          npm run build\n          composer install\n"})}),"\n",(0,s.jsx)(n.h3,{id:"deployment",children:"Deployment"}),"\n",(0,s.jsx)(n.p,{children:"After building, the workflow deploys the project to our hosting environment:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"FTP Deployment : Uses the FTP-Deploy-Action to securely transfer files to our hosting server"}),"\n",(0,s.jsx)(n.li,{children:"Configuration : Connects to our server using FTPS protocol with credentials stored as GitHub Secrets"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"      - name: \ud83d\udcc2 Sync files\n        uses: SamKirkland/FTP-Deploy-Action@4.3.0\n        with:\n          server: ftp.perth.agency\n          username: perthage\n          password: ${{ secrets.DEV_FTP_PASS }}\n          server-dir: directory/\n          protocol: ftps # Required for some hosts.\n"})}),"\n",(0,s.jsx)(n.h2,{id:"benefits-of-our-cicd-pipeline",children:"Benefits of Our CI/CD Pipeline"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Consistency : Every deployment follows the same process"}),"\n",(0,s.jsx)(n.li,{children:"Automation : Reduces manual deployment steps and human error"}),"\n",(0,s.jsx)(n.li,{children:"Security : Sensitive credentials are stored as GitHub Secrets"}),"\n",(0,s.jsx)(n.li,{children:"Efficiency : Only changed files are transferred to the server"}),"\n",(0,s.jsx)(n.li,{children:"Reliability : Failed builds are caught before deployment"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"setting-up-for-new-projects",children:"Setting Up for New Projects"}),"\n",(0,s.jsx)(n.p,{children:"When setting up a new project, you'll need to:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Configure the appropriate server-dir path in the workflow file"}),"\n",(0,s.jsx)(n.li,{children:"Add the FTP password as a repository secret named DEV_FTP_PASS or PROD_FTP_PASS depending on the environment"}),"\n",(0,s.jsx)(n.li,{children:"Ensure the repository has the correct branch structure (typically main for production)\nThis automated pipeline significantly streamlines our development workflow and ensures that our websites are deployed efficiently and reliably."}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var t=i(6540);const s={},r=t.createContext(s);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);